/*
  Compress full bookmarklet js code:
  https://jscompress.com

  Make these modifications:
  Replace ! at beginning with javascript:(
  Put ) at end to make }})()

  Ctrl + F to encode single and double quotes in ASCII for string usability:
  https://grox.net/utils/encoding.html
  double = %22
  single = %27
*/

var bookmarkJs = 'javascript:(function(){if(-1<window.location.href.indexOf(%22www.instagram.com%22))if(window.location.href.indexOf(%22/p/%22)<=-1)window.location.href.indexOf(%22tagged%22)<=-1&&window.open(window.location.toString().concat(%22tagged/%22),%22_self%22);else{var o,e;try{o=document.querySelectorAll(%27div[role=%22button%22] div div img[decoding=%22auto%22]%27)}catch(o){console.log(%22Error locating photo%22)}try{e=document.querySelectorAll(%22video%22)}catch(o){console.log(%22Error locating video%22)}for(var t=[],n=[],i=0;i<o.length;i++)t[i]=o[i].getAttribute(%22src%22);for(i=0;i<e.length;i++)n[i]=e[i].getAttribute(%22src%22);var l=[];for(i=0;i<t.length+n.length;i++)l[i]=i<t.length?t[i]:n[i-t.length];var r=document.querySelectorAll(%27div[class=%22JSZAJ  _3eoV-  IjCL9  WXPwG%22] div%27),c=-1;r.length<1&&(c=-2);for(i=0;i<r.length;i++)r[i].classList.contains(%22XCodT%22)&&(c=i);0<=c?2==l.length&&0==c?window.open(l[0]):window.open(l[1]):-2==c&&window.open(l[0])}})()';
